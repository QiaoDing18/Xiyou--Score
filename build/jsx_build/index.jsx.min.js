!function(e){function t(n){if(a[n])return a[n].exports;var o=a[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var a={};t.m=e,t.c=a,t.p="",t(0)}([function(e,t){!function(){var e=function(){};e.prototype={constructor:e,baseAjax:function(e,t,a,n){$.ajax({url:e,type:a,data:t,dataType:"jsonp",success:function(e){n(e)}})}};var t={base:function(){return new e}},a=React.createClass({displayName:"InputMainBox",mixins:[t],data:{username:"",password:"",session:"",verCode:""},getInitialState:function(){return{verCode:null}},componentWillMount:function(){that=this,this.base().baseAjax("http://scoreapi.xiyoumobile.com/users/verCode",null,"GET",function(e){that.data.session=e.result.session,that.setState({verCode:e.result.verCode})})},checkChangeVerCode:function(){that=this,this.base().baseAjax("http://scoreapi.xiyoumobile.com/users/verCode",null,"GET",function(e){that.data.session=e.result.session,that.setState({verCode:e.result.verCode})})},loginHandle:function(){var e=this;this.data.username=ReactDOM.findDOMNode(this.refs.num).value,this.data.password=ReactDOM.findDOMNode(this.refs.password).value,this.data.verCode=ReactDOM.findDOMNode(this.refs.vercode).value,ReactDOM.findDOMNode(this.refs.vercode).value=null,this.base().baseAjax("http://scoreapi.xiyoumobile.com/users/login",e.data,"GET",function(t){0==t.error?(localStorage.username=e.data.username,localStorage.password=e.data.password,localStorage.session=t.result.session,localStorage.verCode=e.data.verCode,window.location.href="score.html"):(alert("请检输入"),e.checkChangeVerCode())})},render:function(){return React.createElement("form",{id:"login",ref:"login"},React.createElement("div",{id:"title"}),React.createElement("div",{id:"inputBox"},React.createElement("h5",null,"学 号 "),React.createElement("input",{type:"text",id:"num",ref:"num",placeholder:"学号"}),React.createElement("h5",null,"密 码 "),React.createElement("input",{type:"passWord",id:"password",ref:"password",placeholder:"密码"}),React.createElement("h5",null,"验 证 码 "),React.createElement("input",{type:"text",id:"vercode",ref:"vercode",placeholder:"验证码"}),React.createElement("img",{src:this.state.verCode,onClick:this.checkChangeVerCode})),React.createElement("div",{id:"button",onClick:this.loginHandle},React.createElement("p",null,"登录")))}});ReactDOM.render(React.createElement(a,null),document.getElementById("indexBox"))}()}]);