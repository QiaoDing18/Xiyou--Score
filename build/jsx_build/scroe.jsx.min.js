!function(e){function t(r){if(a[r])return a[r].exports;var c=a[r]={exports:{},id:r,loaded:!1};return e[r].call(c.exports,c,c.exports,t),c.loaded=!0,c.exports}var a={};t.m=e,t.c=a,t.p="",t(0)}([function(e,t){!function(){var e=function(){};e.prototype={constructor:e,baseAjax:function(e,t,a,r){$.ajax({url:e,type:a,data:t,dataType:"jsonp",success:function(e){r(e)}})}};var t={base:function(){return new e}},a=React.createClass({displayName:"Content",setData:function(){var e=this.props.transData,t=[];if(e){for(var a=0;a<e.length;a++)t.push(React.createElement("div",{className:"left",key:e[a].Code},React.createElement("div",{className:"left-logo"}),React.createElement("div",{className:"left-angle"}),React.createElement("div",{className:"left-box"},React.createElement("p",null,"课程性质：",e[a].Title),React.createElement("p",null,"课程名称：",e[a].Type),React.createElement("p",null,"卷面成绩：",e[a].RealScore),React.createElement("p",null,"平时成绩：",e[a].UsualScore),React.createElement("p",null,"最终成绩：",e[a].EndScore))));return t}},render:function(){return React.createElement("div",{id:"content",ref:"content"},React.createElement("div",{className:"right"},React.createElement("div",{className:"right-logo"}),React.createElement("div",{className:"right-angle"}),React.createElement("div",{className:"right-box"},React.createElement("p",null,"西安邮电大学祝您狗年大吉"))),this.setData())}}),r=React.createClass({displayName:"MainBox",mixins:[t],data:{username:"",password:"",session:"",verCode:"",year:"",semester:"",score:""},getInitialState:function(){return{transData:""}},componentWillMount:function(){var e=this;this.getUserCookie(e.getAllData)},getUserCookie:function(e){this.data.username=localStorage.username,this.data.password=localStorage.password,this.data.session=localStorage.session,this.data.verCode=localStorage.verCode,e()},getAllData:function(){var e=this,t={username:e.data.username,password:e.data.password,session:e.data.session,year:e.data.year,semester:e.data.semester};this.base().baseAjax("http://scoreapi.xiyoumobile.com/score/year",t,"GET",function(t){e.data.score=t})},checkScore:function(){this.data.year=ReactDOM.findDOMNode(this.refs.year).value,this.data.semester=ReactDOM.findDOMNode(this.refs.semester).value;for(var e=this.data,t=0;t<e.score.result.score.length;t++){if(e.score.result.score[t].year===e.year){e.trueScore=e.score.result.score[t].Terms[e.semester].Scores;break}e.trueScore="没有查到呢"}this.setState({transData:e.trueScore})},backToIndex:function(){alert("退出成功"),window.location.href="index.html"},render:function(){return React.createElement("div",{id:"main"},React.createElement("div",{id:"header"},React.createElement("div",{id:"return",onClick:this.backToIndex}),React.createElement("p",null,"西邮成绩")),React.createElement(a,{transData:this.state.transData}),React.createElement("div",{id:"footer"},React.createElement("p",null,"学年："),React.createElement("select",{ref:"year"},React.createElement("option",{value:"2017-2018"},"2017-2018"),React.createElement("option",{value:"2016-2017"},"2016-2017"),React.createElement("option",{value:"2015-2016"},"2015-2016"),React.createElement("option",{value:"2014-2015"},"2015-2016"),React.createElement("option",{value:"2013-2014"},"2015-2016")),React.createElement("p",null,"学期："),React.createElement("select",{ref:"semester"},React.createElement("option",{value:"1"}," 1"),React.createElement("option",{value:"2"}," 2")),React.createElement("div",{onClick:this.checkScore},"查询")))}});ReactDOM.render(React.createElement(r,null),document.getElementById("Box"))}()}]);